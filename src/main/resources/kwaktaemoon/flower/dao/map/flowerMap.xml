<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
	'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>
<mapper namespace='kwaktaemoon.flower.dao.map.FlowerMap'>
	<select id='selectFlowers' resultType='flower'>
		select * from flowers
		order by flower_num
	</select>	

	<select id='selectAdminFlowers' resultType='flower'>
		select * from flowers
		order by regDate desc
	</select>

	<select id='detailFlowers' resultType='flower'>
		select * from flowers
		where flower_name = #{flowerName}
	</select>

	<select id='searchFlowerWithKeyword' resultType='flower'>
		select * from flowers
		WHERE flower_name LIKE '%'||#{keyword}||'%'
	</select>
	
	<select id='searchFlower' resultType='flower'>
		select * from flowers
		where flower_num = #{flowerNum}
	</select>	
	
	<insert id='insertFlower'>
		insert into flowers(flower_num, flower_name, price, kind, flower_category, flower_imgfile_name,
				  detail_imgfile_name, regdate)
		values(FLOWERS_FLOWERNUM_SEQ.nextval, #{flowerName}, #{price}, #{kind}, #{flowerCategory},  
			#{flowerImgfileName}, #{detailImgfileName}, sysdate)	
	</insert>
	
	<delete id='deleteFlower'>
	   delete flowers
	   where flower_num = #{flowerNum}
	</delete>
</mapper>
